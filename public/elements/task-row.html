<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="shared-styles.html">

<dom-module id="task-row">
  <template>
    <style include="shared-styles">
      :host {

        padding: 5px;
      }
      .item {
        padding: 5px;
      }
      .date {
        width: 110px;
      }
      .name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>
    <style include="iron-flex"></style> 
    <style include="iron-flex-factors"></style> 

    <app-route
        route="{{route}}"
        pattern="/:id"
        data="{{routeData}}">
    </app-route>

    <!--
    <firebase-auth user="{{user}}"></firebase-auth>
    <firebase-document
      id="projectQuery"
      path="/users/[[user.uid]]/projects/[[routeData.id]]"
      data="{{project}}">
    </firebase-document>
    <firebase-query
      id="tasksQuery"
      path="/users/[[user.uid]]/tasks"
      order-by-child="projectId"
      equal-to="[[routeData.id]]"
      data="{{tasks}}">
    </firebase-query>
    -->
    <div id="row" class="layout horizontal">
      <div class="item">X</div>
      <div class="item name flex-6">
        <a href="/task/[[task.$key]]">[[task.name]]</a>
      </div>
      <div class="item flex-2">Inbox</div>
      <div class="item date flex-auto">Mar 13, 2017</div>
    </div>
    
<!--
    <div id="card">
      <div id="tasks">
        <ul id="task-list">
          <template is="dom-repeat" items="[[tasks]]" as="task">
            <a href="/task/[[task.$key]]">
              <li>[[task.name]]</li>
            </a>
          </template>
        </ul>
      </div>
    </div>
-->
  </template>

  <script>
    class TaskRow extends Polymer.Element {
      static get is() { return 'task-row'; }

      static get properties() {
        return {
          task: Object,
          routeData: Object,
          project: {
            type: Object
          },
          tasks: {
            type: Object
          }
        }
      }

    }

    window.customElements.define(TaskRow.is, TaskRow);
  </script>
</dom-module>
